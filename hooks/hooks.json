{
  "hooks": {
    "SessionStart": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "cd \"${CLAUDE_PLUGIN_ROOT}\" && .venv/bin/python \"${CLAUDE_PLUGIN_ROOT}/scripts/init_rlm.py\"",
            "timeout": 5000,
            "description": "Initialize RLM environment and load config"
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "cd \"${CLAUDE_PLUGIN_ROOT}\" && .venv/bin/python \"${CLAUDE_PLUGIN_ROOT}/scripts/check_complexity.py\" \"$PROMPT\"",
            "timeout": 3000,
            "description": "Check if RLM should activate based on task complexity"
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "cd \"${CLAUDE_PLUGIN_ROOT}\" && .venv/bin/python \"${CLAUDE_PLUGIN_ROOT}/scripts/externalize_context.py\"",
            "timeout": 10000,
            "description": "Externalize context before compaction"
          }
        ]
      }
    ]
  }
}
